<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- generated using Randy, the patXMLRenderer -->
<html>
<head>
	<title>patUser Documentation</title>
	<meta http-equiv="Description" content="">
	<meta http-equiv="Keywords" content="">
	<link rel="stylesheet" href="styles/offline.css" type="text/css">
</head>
<body bgcolor="#ffffff" text="#000000" link="#000000" alink="#000000" vlink="#000000" marginwidth="8" marginheight="0" topmargin="0" leftmargin="8" rightmargin="8" bottommargin="0">

	
	
	
		
		<table border="0" cellpadding="0" cellspacing="0" width="90%"><tr><td>
			
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
			<b>Automatic creation of statistics</b><br>
			</font>
			<img src="img/offline/px.gif" width="1" height="9" alt="" border="0"><br>
			
				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				
					patUser keeps track of when a user first logged in, when hst last visit was,
					how many pages he viewed and how long he stayed in your site.
					To use this features you will need fields in the table that stores the
					authentication data, which will store the data.
					You will need the following fields (names may differ):
				
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				
					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td valign="top">
			<img src="img/offline/px.gif" width="1" height="3" alt="" border="0"><br>
			<img src="img/offline/bullet_ul.gif" width="9" height="9" alt="" border="0" hspace="6"><br>
		</td>
		<td class="content" valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">datetime field to store first login</font></td>
	</tr>
	<tr>
		<td colspan="2"><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"></td>
	</tr>
</table>

					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td valign="top">
			<img src="img/offline/px.gif" width="1" height="3" alt="" border="0"><br>
			<img src="img/offline/bullet_ul.gif" width="9" height="9" alt="" border="0" hspace="6"><br>
		</td>
		<td class="content" valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">datetime field to store last login</font></td>
	</tr>
	<tr>
		<td colspan="2"><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"></td>
	</tr>
</table>

					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td valign="top">
			<img src="img/offline/px.gif" width="1" height="3" alt="" border="0"><br>
			<img src="img/offline/bullet_ul.gif" width="9" height="9" alt="" border="0" hspace="6"><br>
		</td>
		<td class="content" valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">integer field to store amount of logins</font></td>
	</tr>
	<tr>
		<td colspan="2"><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"></td>
	</tr>
</table>

					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td valign="top">
			<img src="img/offline/px.gif" width="1" height="3" alt="" border="0"><br>
			<img src="img/offline/bullet_ul.gif" width="9" height="9" alt="" border="0" hspace="6"><br>
		</td>
		<td class="content" valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">integer field to store amount of visited pages</font></td>
	</tr>
	<tr>
		<td colspan="2"><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"></td>
	</tr>
</table>

					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td valign="top">
			<img src="img/offline/px.gif" width="1" height="3" alt="" border="0"><br>
			<img src="img/offline/bullet_ul.gif" width="9" height="9" alt="" border="0" hspace="6"><br>
		</td>
		<td class="content" valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">integer field to store total time online</font></td>
	</tr>
	<tr>
		<td colspan="2"><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"></td>
	</tr>
</table>

				<table cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="1" height="14" alt="" border="0"></td></tr></table>

				<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td align="center">
			<table width="80%" border="0" cellpadding="0" cellspacing="0"><tr><td bgcolor="#000000"><img src="img/offline/px.gif" width="1" height="1" alt="" border="0"></td></tr></table>
			<table width="80%" border="0" cellpadding="2" cellspacing="0">
			<tr>
				<td><img src="img/offline/px.gif" width="23" height="1" alt="" border="0"></td>
				<td valign="top" width="1%"><img src="img/offline/icon_caution.gif" width="35" height="61" alt="" border="0" vspace="3"></td>
				<td><img src="img/offline/px.gif" width="10" height="1" alt="" border="0"></td>
				<td>
					<img src="img/offline/px.gif" width="1" height="6" alt="" border="0"><br>
					
					<font face="verdana,tahoma,arial,sans-serif" size="2" class="caution">
						<b>Sessions must be enabled</b><img src="img/offline/px.gif" width="1" height="1" alt="" border="0"><br>
						
					In order to work with all statistic features, patUser must be instantiated
					with true as first parameter, so it works with PHP sessions.
				
					</font>
				</td>
				<td><img src="img/offline/px.gif" width="30" height="1" alt="" border="0"></td>
			</tr>
			</table>
			<table width="80%" border="0" cellpadding="0" cellspacing="0"><tr><td bgcolor="#000000"><img src="img/offline/px.gif" width="1" height="1" alt="" border="0"></td></tr></table>
			<img src="img/offline/px.gif" width="1" height="9" alt="" border="0"><br>
		</td>
	</tr>
</table>

			
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="14" alt="" border="0"></td>
	</tr>
</table>

			
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
			<b>Adjusting prepend.php and append.php</b><br>
			</font>
			<img src="img/offline/px.gif" width="1" height="9" alt="" border="0"><br>
			
				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				
					To enable statistic features you have to adjust your prepend.php:
				
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td><pre class="preformatted">
$user-&gt;addStats( &quot;first_login&quot;, &quot;first_login&quot; );
$user-&gt;addStats( &quot;last_login&quot;, &quot;last_login&quot; );
$user-&gt;addStats( &quot;count_logins&quot;, &quot;count_logins&quot; );
$user-&gt;addStats( &quot;count_pages&quot;, &quot;count_pages&quot; );
$user-&gt;addStats( &quot;time_online&quot;, &quot;time_online&quot; );</pre></td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				
					The first parameter is the name of the statistic you want to keep track of,
					the second is the name of the field in the auth table that stores the data.
					You just have to insert the statistic you want to track in the prepend.php.
				
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				
					To update statistics, place this line in your append.php:
				
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td><pre class="preformatted">$user-&gt;updateStats();</pre></td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

			
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="14" alt="" border="0"></td>
	</tr>
</table>

			
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
			<b>Viewing statistics</b><br>
			</font>
			<img src="img/offline/px.gif" width="1" height="9" alt="" border="0"><br>
			
				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				
					patUser now automatically updates statistics in your authentication table.
					Take a look at it, using phpMyAdmin or with patUser's getUserData().
				
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

			
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="14" alt="" border="0"></td>
	</tr>
</table>

			
<table width="100%" border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
			<b>API documentation</b><br>
			</font>
			<img src="img/offline/px.gif" width="1" height="9" alt="" border="0"><br>
			
				<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				These functions are those available for the above features:
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

				<table width="500" cellpadding="0" cellspacing="0" border="0"><tr valign="top"><td><img src="img/offline/apidoc_function.gif" width="27" height="21" alt="" border="0"></td><td><img src="img/offline/px.gif" width="10" height="1" alt="" border="0"></td><td><table width="500" cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"><br><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">void <b>addStats</b></font><br><img src="img/offline/px.gif" width="1" height="7" alt="" border="0"><br><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="16" height="1" alt="" border="0"></td><td width="100%"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">add a statistic option<img src="img/offline/px.gif" width="1" height="1" alt="" border="0"><br></font><img src="img/offline/px.gif" width="1" height="1" alt="" border="0"><br>
					<table border="0" cellpadding="0" cellspacing="0">
	<tr>
		<td>
			<font face="verdana,tahoma,arial,sans-serif" size="2" class="content">
				stats include: first_login, last_login, count_logins, count_pages, time_online
			</font>
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="9" alt="" border="0"></td>
	</tr>
</table>

					<font face="verdana,tahoma,arial,sans-serif" size="2" class="content"><b>Parameters:</b><br></font>
<img src="img/offline/px.gif" width="1" height="2" alt="" border="0"><br>

						<table cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></td><td valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content"><i>string</i><img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></font></td><td valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">$statistic<img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></font></td><td><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">name of the statistic that should be tracked</font></td></tr></table><img src="img/offline/px.gif" width="1" height="4" alt="" border="0"><br>
						<table cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></td><td valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">[<i>string</i><img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></font></td><td valign="top"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">$field = &quot;&quot;]<img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></font></td><td><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">name of the field that should store the stats (if it differs from the name)</font></td></tr></table><img src="img/offline/px.gif" width="1" height="4" alt="" border="0"><br>
					

				</td></tr></table></td></tr></table></td></tr></table><img src="img/offline/px.gif" width="1" height="22" alt="" border="0"><br>
				<table width="500" cellpadding="0" cellspacing="0" border="0"><tr valign="top"><td><img src="img/offline/apidoc_function.gif" width="27" height="21" alt="" border="0"></td><td><img src="img/offline/px.gif" width="10" height="1" alt="" border="0"></td><td><table width="500" cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="1" height="2" alt="" border="0"><br><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">void <b>updateStats</b></font><br><img src="img/offline/px.gif" width="1" height="7" alt="" border="0"><br><table width="100%" cellpadding="0" cellspacing="0" border="0"><tr><td><img src="img/offline/px.gif" width="16" height="1" alt="" border="0"></td><td width="100%"><font face="verdana,tahoma,arial,sans-serif" size="2" class="content">update all statistics<img src="img/offline/px.gif" width="1" height="1" alt="" border="0"><br></font><img src="img/offline/px.gif" width="1" height="1" alt="" border="0"><br></td></tr></table></td></tr></table></td></tr></table><img src="img/offline/px.gif" width="1" height="22" alt="" border="0"><br>
			
		</td>
	</tr>
	<tr>
		<td><img src="img/offline/px.gif" width="1" height="14" alt="" border="0"></td>
	</tr>
</table>

		
		<center><table width="90%" border="0" cellpadding="0" cellspacing="0"><tr><td><a href="patUserDocHistory.html" class="link"><img src="img/offline/footernav_prev.gif" width="48" height="23" alt="" border="0"></a></td>
<td align="right"><a href="patUserDocSelectConditions.html" class="link"><img src="img/offline/footernav_next.gif" width="48" height="23" alt="" border="0"></a></td>
</tr></table></center><table bgcolor="#608DB7" width="100%" border="0" cellpadding="0" cellspacing="0"><tr><td><table border="0" cellpadding="0" cellspacing="0"><tr><td><img src="img/offline/footerbar_start.gif" width="102" height="16" alt="" border="0"></td><td><a href="javascript:window.print();"><img src="img/offline/footerbar_print.gif" width="59" height="16" alt="" border="0"></a></td></tr></table></td><td align="right"><table border="0" cellpadding="0" cellspacing="0"><tr><td nowrap><font face="verdana,arial,tahoma,helvetica" size="-2" class="litewhite" color="#ffffff">Last Updated: 2001-11-03 00:42:48<br></font></td><td><a href="#top"><img src="img/offline/footerbar_end.gif" width="31" height="16" alt="Jump to the top of the page (of course only if you're far enough down...)" border="0"></a></td></tr></table></td></tr></table><img src="img/offline/px.gif" width="1" height="30" alt="" border="0"><br></td><td><img src="img/offline/px.gif" width="12" height="1" alt="" border="0"></td></tr></table></td><td><img src="img/offline/px.gif" width="15" height="0" alt="" border="0"></td></tr></table>
	
</body>
</html>
